(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{308:function(e,t,a){"use strict";a.r(t);var i=a(3),o=Object(i.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"scoring-theory"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scoring-theory"}},[e._v("#")]),e._v(" Scoring Theory")]),e._v(" "),a("p",[e._v("Once we have a list of matching items, they need to be ranked by a "),a("strong",[e._v("relevance score")]),e._v(". This score is determined by three factors:")]),e._v(" "),a("ul",[a("li",[e._v("Fuzziness score")]),e._v(" "),a("li",[e._v("Key weight")]),e._v(" "),a("li",[e._v("Field-length norm")])]),e._v(" "),a("h3",{attrs:{id:"fuzziness-score"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fuzziness-score"}},[e._v("#")]),e._v(" Fuzziness Score")]),e._v(" "),a("p",[e._v("The fuzziness score is internally calculated via a modified implementation of the "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Bitap_algorithm",target:"_blank",rel:"noopener noreferrer"}},[e._v("Bitap"),a("OutboundLink")],1),e._v(" algorithm.")]),e._v(" "),a("h4",{attrs:{id:"distance-threshold-and-location"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#distance-threshold-and-location"}},[e._v("#")]),e._v(" Distance, Threshold, and Location")]),e._v(" "),a("p",[e._v("The calculation for something to be considered a match (whether fuzzy or exact) takes into account how far the pattern is from the expected location, within a threshold.")]),e._v(" "),a("p",[e._v("To illustrate, consider the following options:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("location")]),e._v(" defaults to "),a("code",[e._v("0")])]),e._v(" "),a("li",[a("code",[e._v("distance")]),e._v(" defaults to "),a("code",[e._v("100")])]),e._v(" "),a("li",[a("code",[e._v("threshold")]),e._v(" defaults to "),a("code",[e._v("0.6")])])]),e._v(" "),a("p",[e._v("With the above options, for something to be considered a match, it would have to be within (threshold) "),a("code",[e._v("0.6")]),e._v(" x (distance) "),a("code",[e._v("100")]),e._v(" = "),a("code",[e._v("60")]),e._v(" characters away from the expected location "),a("code",[e._v("0")]),e._v(".")]),e._v(" "),a("p",[e._v("For example, consider the string "),a("code",[e._v('"Fuse.js is a powerful, lightweight fuzzy-search library, with zero dependencies"')]),e._v(". Searching for the pattern "),a("code",[e._v('"zero"')]),e._v(" would not match anything, even though it occurs in the string. The reason is that with the above defaults, for it to be considered a match it would have to be within "),a("code",[e._v("60")]),e._v(" characters away from the expected location "),a("code",[e._v("0")]),e._v(". However, "),a("code",[e._v('"zero"')]),e._v(" appears at index "),a("code",[e._v("62")]),e._v(".")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),a("p",[e._v("If you don't care where the pattern appears in the string is, and you still want to consider it a match, set "),a("code",[e._v("distance")]),e._v(" to a large number.")])]),e._v(" "),a("h3",{attrs:{id:"key-weight"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#key-weight"}},[e._v("#")]),e._v(" Key Weight")]),e._v(" "),a("p",[e._v("User inputted weight of the key. The higher the weight, the higher its relevance score. This is optional, athough Fuse.js will internally default it to "),a("code",[e._v("1")]),e._v(" if one isn't provided. This boosting is applied at query time.")]),e._v(" "),a("h3",{attrs:{id:"field-length-norm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#field-length-norm"}},[e._v("#")]),e._v(" Field-length Norm")]),e._v(" "),a("p",[e._v("The shorter the field, the higher its relevance. If a pattern matches a short field (such as a "),a("code",[e._v("title")]),e._v(" field) it is likely to be more relevant than the same pattern matched with a bigger field. This is calculated at index time.")])])}),[],!1,null,null,null);t.default=o.exports}}]);